"use strict";(self.webpackChunktomas_react_tools=self.webpackChunktomas_react_tools||[]).push([[217],{"./src/components/UnitSelector/UnitSelector.stories.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Example:function(){return Example},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return UnitSelector_stories}});var _Example$parameters,_Example$parameters2,_Example$parameters2$,objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),lib=__webpack_require__("./node_modules/enheter/lib/index.js"),UnitSelector_module_root="UnitSelector_root__YtK42",UnitSelector_module_unitSelector="UnitSelector_unitSelector__q2QvD",UnitSelector_module_prefixSelector="UnitSelector_prefixSelector__kQcuS",esm=__webpack_require__("./node_modules/@digdir/design-system-react/dist/esm/index.js"),unitPrefixes=["yotta","zetta","exa","peta","tera","giga","mega","kilo","hecto","deca","","deci","centi","milli","micro","nano","pico","femto","atto","zepto","yocto"],UnitSelectorActionType=function(UnitSelectorActionType){return UnitSelectorActionType.SET_UNIT="SET_UNIT",UnitSelectorActionType.SET_PREFIX="SET_PREFIX",UnitSelectorActionType.INITIALIZE_UNIT="INITIALIZE_UNIT",UnitSelectorActionType}({}),unitSelectorReducer=function unitSelectorReducer(callback){return function(state,action){var newState;switch(action.type){case UnitSelectorActionType.SET_UNIT:newState=function setUnit(state,action){var _state$unit=state.unit,prefix=_state$unit.prefix,dimension=_state$unit.dimension;return{unit:(0,lib.findUnitsByDimension)(dimension)[action.unitKey].withPrefix(prefix)}}(state,action);break;case UnitSelectorActionType.SET_PREFIX:newState=function setPrefix(state,action){return{unit:state.unit.withPrefix(action.prefix||null)}}(state,action);break;case UnitSelectorActionType.INITIALIZE_UNIT:newState=function setUnitWithNoPrefix(state,action){var units=lib.allUnits[action.dimension].units;return{unit:Object.values(units)[0].baseUnit}}(0,action);break;default:newState=state}return callback(newState),newState}},prefixAsString=function prefixAsString(prefix){return prefix||""},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),UnitSelector=function UnitSelector(_ref){var dimension=_ref.dimension,onChange=_ref.onChange,_ref$textFn=_ref.textFn,textFn=void 0===_ref$textFn?function(unit){return unit.key||""}:_ref$textFn,units=lib.allUnits[dimension].units,_useReducer=(0,react.useReducer)(unitSelectorReducer((function reducerCallback(state){return onChange&&onChange(state.unit)})),{unit:Object.values(units)[0].baseUnit}),_useReducer2=(0,slicedToArray.Z)(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];(0,react.useEffect)((function(){dispatch({type:UnitSelectorActionType.INITIALIZE_UNIT,dimension:dimension})}),[dimension,units]);var options=Object.values(units).filter((function(unit){return!unit.prefix})).map((function(unit){return{label:textFn(unit),value:unit.key}})),prefixOptions=unitPrefixes.map((function(prefix){return{label:prefix||"",value:prefix||""}}));return(0,jsx_runtime.jsxs)("span",{className:UnitSelector_module_root,children:[(0,jsx_runtime.jsx)("span",{className:UnitSelector_module_prefixSelector,children:(0,jsx_runtime.jsx)(esm.Ph,{label:"Prefix",options:prefixOptions,onChange:function setPrefix(prefix){return dispatch({type:UnitSelectorActionType.SET_PREFIX,prefix:prefix})},value:prefixAsString(state.unit.prefix)})}),(0,jsx_runtime.jsx)("span",{className:UnitSelector_module_unitSelector,children:(0,jsx_runtime.jsx)(esm.Ph,{label:"Unit",options:options,onChange:function setUnit(unitKey){return dispatch({type:UnitSelectorActionType.SET_UNIT,unitKey:unitKey})},value:state.unit.key})})]})};try{UnitSelector.displayName="UnitSelector",UnitSelector.__docgenInfo={description:"",displayName:"UnitSelector",props:{dimension:{defaultValue:null,description:"",name:"dimension",required:!0,type:{name:"enum",value:[{value:'"acceleration"'},{value:'"amountOfSubstance"'},{value:'"area"'},{value:'"capacitance"'},{value:'"charge"'},{value:'"conductance"'},{value:'"conductivity"'},{value:'"current"'},{value:'"density"'},{value:'"energy"'},{value:'"force"'},{value:'"frequency"'},{value:'"inductance"'},{value:'"length"'},{value:'"luminousIntensity"'},{value:'"magneticFlux"'},{value:'"magneticFluxDensity"'},{value:'"mass"'},{value:'"power"'},{value:'"pressure"'},{value:'"resistance"'},{value:'"resistivity"'},{value:'"temperature"'},{value:'"time"'},{value:'"velocity"'},{value:'"voltage"'},{value:'"volume"'}]}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((unit: Unit<Dimension>) => void)"}},textFn:{defaultValue:{value:"(unit: Unit) => unit.key || ''"},description:"",name:"textFn",required:!1,type:{name:"(unit: Unit<Dimension>) => string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/UnitSelector/UnitSelector.tsx#UnitSelector"]={docgenInfo:UnitSelector.__docgenInfo,name:"UnitSelector",path:"src/components/UnitSelector/UnitSelector.tsx#UnitSelector"})}catch(__react_docgen_typescript_loader_error){}var Example={args:{dimension:"length",textFn:function textFn(unit){switch(unit.key){case"metre":return"Metres";case"foot":return"Feet";case"inch":return"Inches";case"yard":return"Yards";case"nauticalMile":return"Nautical miles";case"statuteMile":return"Statute miles";case"astronomicalUnit":return"Astronomical units";case"lightYear":return"Light years";case"parsec":return"Parsecs";case"angstrom":return"Ångstrøms";case"fermi":return"Fermis";case"micron":return"Microns";case"chain":return"Chains";case"fathom":return"Fathoms";case"furlong":return"Furlongs";case"link":return"Links";case"rod":return"Rods";case"scandinavianMile":return"Scandinavian miles";default:return unit.key||""}}}},UnitSelector_stories={title:"Components/UnitSelector",component:UnitSelector,tags:["autodocs"],parameters:{layout:"centered"}};Example.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Example.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_Example$parameters=Example.parameters)||void 0===_Example$parameters?void 0:_Example$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:"{\n  args: {\n    dimension: 'length',\n    textFn: (unit: Unit) => {\n      //@formatter:off\n      switch ((unit.key as UnitName<'length'>)) {\n        case 'metre':\n          return 'Metres';\n        case 'foot':\n          return 'Feet';\n        case 'inch':\n          return 'Inches';\n        case 'yard':\n          return 'Yards';\n        case 'nauticalMile':\n          return 'Nautical miles';\n        case 'statuteMile':\n          return 'Statute miles';\n        case 'astronomicalUnit':\n          return 'Astronomical units';\n        case 'lightYear':\n          return 'Light years';\n        case 'parsec':\n          return 'Parsecs';\n        case 'angstrom':\n          return 'Ångstrøms';\n        case 'fermi':\n          return 'Fermis';\n        case 'micron':\n          return 'Microns';\n        case 'chain':\n          return 'Chains';\n        case 'fathom':\n          return 'Fathoms';\n        case 'furlong':\n          return 'Furlongs';\n        case 'link':\n          return 'Links';\n        case 'rod':\n          return 'Rods';\n        case 'scandinavianMile':\n          return 'Scandinavian miles';\n        default:\n          return unit.key || '';\n      }\n      //@formatter:on\n    }\n  }\n}"},null===(_Example$parameters2=Example.parameters)||void 0===_Example$parameters2||null===(_Example$parameters2$=_Example$parameters2.docs)||void 0===_Example$parameters2$?void 0:_Example$parameters2$.source)})});var __namedExportsOrder=["Example"]}}]);