"use strict";(self.webpackChunktomas_react_tools=self.webpackChunktomas_react_tools||[]).push([[194],{"./src/components/UnitInput/UnitInput.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Example:function(){return Example},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return UnitInput_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),esm=__webpack_require__("./node_modules/@digdir/design-system-react/dist/esm/index.js"),UnitInput_module_unitInput=(__webpack_require__("./node_modules/@altinn/figma-design-tokens/dist/tokens.css"),"UnitInput_unitInput__rdQhG"),UnitSearch=__webpack_require__("./src/components/UnitSearch/UnitSearch.tsx"),lib=__webpack_require__("./node_modules/enheter/lib/index.js"),UnitInputActionType=function(UnitInputActionType){return UnitInputActionType.SetUnit="SetMeasure",UnitInputActionType.SetNumber="SetNumber",UnitInputActionType}({}),unitInputReducer=function unitInputReducer(state,action){switch(action.type){case UnitInputActionType.SetUnit:return function setUnit(state,action){var number=state.number,unit=action.unit;return{measure:unit&&void 0!==number?new lib.Measure(unit,number):void 0,unit:unit,number:number}}(state,action);case UnitInputActionType.SetNumber:return function setNumber(state,action){var number=action.number,unit=state.unit;return{measure:unit&&void 0!==number?new lib.Measure(unit,number):void 0,unit:unit,number:number}}(state,action)}},useUpdate=__webpack_require__("./src/hooks/useUpdate.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["searchPlaceholder","value","onChange"],UnitInput=function UnitInput(_ref){var _state$number$toStrin,_state$number,_state$unit,searchPlaceholder=_ref.searchPlaceholder,value=_ref.value,onChange=_ref.onChange,rest=(0,objectWithoutProperties.Z)(_ref,_excluded),initialValue=(0,react.useMemo)((function(){return value?{unit:value.unit,measure:value,number:value.value}:{unit:void 0,measure:void 0,number:void 0}}),[value]),_useReducer=(0,react.useReducer)(unitInputReducer,initialValue),_useReducer2=(0,slicedToArray.Z)(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];return(0,useUpdate.P)((function(){onChange&&onChange(state.measure)}),[state]),(0,jsx_runtime.jsxs)("span",{className:UnitInput_module_unitInput,children:[(0,jsx_runtime.jsx)("span",{children:(0,jsx_runtime.jsx)(esm.qo,{formatting:{number:{},align:"right"},onChange:function onChange(e){return dispatch({type:UnitInputActionType.SetNumber,number:Number(e.target.value)})},value:null!==(_state$number$toStrin=null===(_state$number=state.number)||void 0===_state$number?void 0:_state$number.toString())&&void 0!==_state$number$toStrin?_state$number$toStrin:void 0})}),(0,jsx_runtime.jsx)(UnitSearch.R,(0,objectSpread2.Z)({value:null!==(_state$unit=state.unit)&&void 0!==_state$unit?_state$unit:void 0,onChange:function onChange(unit){return dispatch({type:UnitInputActionType.SetUnit,unit:unit})},placeholder:searchPlaceholder},rest))]})};try{UnitInput.displayName="UnitInput",UnitInput.__docgenInfo={description:"",displayName:"UnitInput",props:{dimensionText:{defaultValue:null,description:"",name:"dimensionText",required:!0,type:{name:"UnitDimensionText"}},maxNumberOfResults:{defaultValue:null,description:"",name:"maxNumberOfResults",required:!1,type:{name:"number"}},prefixKeywords:{defaultValue:null,description:"",name:"prefixKeywords",required:!0,type:{name:"UnitPrefixKeywords"}},unitKeywords:{defaultValue:null,description:"",name:"unitKeywords",required:!0,type:{name:"UnitKeywords"}},unitPrefixTextFn:{defaultValue:null,description:"",name:"unitPrefixTextFn",required:!0,type:{name:"UnitPrefixTextFn"}},unitTextFn:{defaultValue:null,description:"",name:"unitTextFn",required:!0,type:{name:"UnitTextFn<Dimension>"}},searchPlaceholder:{defaultValue:null,description:"",name:"searchPlaceholder",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:'Measure<"acceleration" | "amountOfSubstance" | "area" | "capacitance" | "charge" | "conductance" | "conductivity" | "current" | "density" | "energy" | "force" | "frequency" | "inductance" | ... 13 more ... | "volume">'}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:'((measure?: Measure<"acceleration" | "amountOfSubstance" | "area" | "capacitance" | "charge" | "conductance" | "conductivity" | "current" | "density" | "energy" | "force" | "frequency" | ... 14 more ... | "volume">) => void)'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/UnitInput/UnitInput.tsx#UnitInput"]={docgenInfo:UnitInput.__docgenInfo,name:"UnitInput",path:"src/components/UnitInput/UnitInput.tsx#UnitInput"})}catch(__react_docgen_typescript_loader_error){}var _Example$parameters,_Example$parameters2,_Example$parameters2$,unitTextFn=__webpack_require__("./src/test-data/unitTextFn.ts"),unitPrefixTextFn=__webpack_require__("./src/test-data/unitPrefixTextFn.ts"),unitKeywords=__webpack_require__("./src/test-data/unitKeywords.ts"),unitPrefixKeywords=__webpack_require__("./src/test-data/unitPrefixKeywords.ts"),unitDimensionText=__webpack_require__("./src/test-data/unitDimensionText.ts"),UnitInput_stories={title:"Components/UnitInput",component:UnitInput,tags:["autodocs"],parameters:{layout:"centered"}},Example={args:{dimensionText:unitDimensionText.W,unitPrefixTextFn:unitPrefixTextFn.T,unitKeywords:unitKeywords.g,unitTextFn:unitTextFn.q,prefixKeywords:unitPrefixKeywords.g,searchPlaceholder:"Enter a unit"}};Example.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Example.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_Example$parameters=Example.parameters)||void 0===_Example$parameters?void 0:_Example$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:'{\n  args: {\n    dimensionText: unitDimensionText,\n    unitPrefixTextFn,\n    unitKeywords,\n    unitTextFn,\n    prefixKeywords: unitPrefixKeywords,\n    searchPlaceholder: "Enter a unit"\n  }\n}'},null===(_Example$parameters2=Example.parameters)||void 0===_Example$parameters2||null===(_Example$parameters2$=_Example$parameters2.docs)||void 0===_Example$parameters2$?void 0:_Example$parameters2$.source)})});var __namedExportsOrder=["Example"]},"./src/hooks/useUpdate.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{P:function(){return useUpdate}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),useUpdate=function useUpdate(effect,deps){var isFirst=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!0);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(!isFirst.current)return effect();isFirst.current=!1}),deps)}}}]);